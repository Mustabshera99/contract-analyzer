# Contract Analyzer Environment Configuration
# Copy this file to .env and update the values for your environment

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME=Contract Risk Analyzer
APP_VERSION=1.0.0
ENVIRONMENT=development
DEBUG=false

# =============================================================================
# BACKEND API CONFIGURATION
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=false
LOG_LEVEL=INFO

# CORS Configuration
CORS_ORIGINS=http://localhost:8501,http://frontend:8501,http://localhost:3000

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
BACKEND_URL=http://backend:8000
STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=0.0.0.0
STREAMLIT_SERVER_HEADLESS=true
STREAMLIT_BROWSER_GATHER_USAGE_STATS=false
STREAMLIT_SERVER_ENABLE_CORS=false

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# ChromaDB Configuration (FREE - Vector Database)
CHROMA_PERSIST_DIRECTORY=/app/data/chroma
CHROMA_COLLECTION_NAME=contract_embeddings

# SQLite Configuration (FREE - Primary Database)
# No additional configuration needed - uses local file
SQLITE_DATABASE_PATH=/app/data/contract_analyzer.db
SQLITE_ENABLED=true

# PostgreSQL Configuration (FREE - Alternative Database)
# Many cloud providers offer free tiers (Heroku, Railway, Supabase)
POSTGRES_ENABLED=false
POSTGRES_URL=postgresql://user:password@localhost:5432/contract_analyzer
POSTGRES_POOL_SIZE=10

# =============================================================================
# AI/LLM CONFIGURATION
# =============================================================================
# OpenAI Configuration (REQUIRED - Core AI Analysis)
# Get your API key at: https://platform.openai.com/api-keys
# Cost: $5 free credit, then pay-per-use
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4
OPENAI_TEMPERATURE=0.1
OPENAI_MAX_TOKENS=4000

# Anthropic Configuration (OPTIONAL - Alternative AI Model)
# Get your API key at: https://console.anthropic.com/keys
# Cost: $5 free credit, then pay-per-use
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-sonnet-20240229

# Ollama Configuration (FREE - Local AI Model)
# Install Ollama from: https://ollama.ai/
# Cost: Completely free - runs locally
OLLAMA_ENABLED=false
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama2
OLLAMA_TEMPERATURE=0.1
OLLAMA_MAX_TOKENS=4000

# Hugging Face Configuration (FREE - Cloud AI Models)
# Get your API key at: https://huggingface.co/settings/tokens
# Cost: Free tier available with rate limits
HUGGINGFACE_API_KEY=your_huggingface_api_key_here
HUGGINGFACE_MODEL=microsoft/DialoGPT-medium
HUGGINGFACE_ENABLED=false

# LangSmith Configuration (OPTIONAL - AI Model Tracing)
# Get your API key at: https://smith.langchain.com/settings
# Cost: Free tier available
LANGCHAIN_TRACING_V2=true
LANGCHAIN_ENDPOINT=https://api.smith.langchain.com
LANGCHAIN_API_KEY=your_langsmith_api_key_here
LANGCHAIN_PROJECT=contract-analyzer

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# Security Settings
SECURITY_LEVEL=high
ENABLE_RATE_LIMITING=true
ENABLE_AUDIT_LOGGING=true
MAX_FILE_SIZE_MB=50
ALLOWED_FILE_TYPES=pdf,doc,docx,txt
MAX_MEMORY_MB=1024

# API Security
API_KEY_SECRET=your_api_key_secret_here
JWT_SECRET_KEY=your_jwt_secret_key_here
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# Encryption
ENCRYPTION_KEY=your_32_byte_encryption_key_here

# =============================================================================
# REDIS CONFIGURATION (Optional)
# =============================================================================
REDIS_URL=redis://redis:6379/0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=20

# =============================================================================
# NGINX CONFIGURATION (Optional)
# =============================================================================
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024
NGINX_CLIENT_MAX_BODY_SIZE=50M

# SSL Configuration (for production)
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================
# Logging Configuration
LOG_FORMAT=json
LOG_FILE_PATH=/app/logs
LOG_ROTATION_SIZE=10MB
LOG_RETENTION_DAYS=30

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# Monitoring Configuration
ENABLE_MONITORING=true
ENABLE_PROMETHEUS=true
ENABLE_OPENTELEMETRY=true
METRICS_PORT=9090

# LangSmith Configuration
LANGSMITH_API_KEY=your_langsmith_api_key_here
LANGSMITH_PROJECT=contract-analyzer
LANGSMITH_TRACING=true

# OpenTelemetry Configuration
JAEGER_ENDPOINT=http://localhost:14268
OTLP_ENDPOINT=http://localhost:4317
TRACE_SAMPLING_RATIO=1.0

# Prometheus Configuration
PROMETHEUS_ENDPOINT=http://localhost:9090
PROMETHEUS_PUSHGATEWAY=http://localhost:9091

# Alerting Configuration
ALERTMANAGER_URL=http://localhost:9093
ALERT_EMAIL_ADMIN=admin@contract-analyzer.com
ALERT_EMAIL_OPS=ops@contract-analyzer.com

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Development Mode
DEV_MODE=false
HOT_RELOAD=false
ENABLE_DEBUG_TOOLBAR=false

# Testing
TEST_DATABASE_URL=sqlite:///./test.db
TEST_REDIS_URL=redis://localhost:6379/1

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================
# Production Mode
PRODUCTION_MODE=false
ENABLE_HTTPS=false
FORCE_HTTPS=false

# Resource Limits
MAX_WORKERS=4
WORKER_TIMEOUT=300
MEMORY_LIMIT=2G

# Backup Configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=7
BACKUP_STORAGE_PATH=/app/backups

# =============================================================================
# CORE INTEGRATIONS (FREE ALTERNATIVES)
# =============================================================================
# Local File Storage (FREE - Document Management)
# No API keys required - uses local filesystem
LOCAL_STORAGE_PATH=/app/storage/documents
LOCAL_STORAGE_ENABLED=true
LOCAL_STORAGE_MAX_SIZE_MB=100

# Google Drive Integration (FREE - Alternative Document Management)
# Get your API keys at: https://console.cloud.google.com/apis/credentials
# Cost: 15GB free storage
GOOGLE_DRIVE_ENABLED=false
GOOGLE_DRIVE_CLIENT_ID=your_google_drive_client_id
GOOGLE_DRIVE_CLIENT_SECRET=your_google_drive_client_secret
GOOGLE_DRIVE_REDIRECT_URI=http://localhost:8000/auth/google/callback
GOOGLE_DRIVE_SCOPES=https://www.googleapis.com/auth/drive.file

# DocuSign Developer Sandbox (FREE - Electronic Signatures)
# Get your API keys at: https://developers.docusign.com/platform/auth/consent
# Cost: Free for development and demos
DOCUSIGN_SANDBOX_ENABLED=true
DOCUSIGN_SANDBOX_CLIENT_ID=your_docusign_sandbox_client_id
DOCUSIGN_SANDBOX_CLIENT_SECRET=your_docusign_sandbox_client_secret
DOCUSIGN_SANDBOX_REDIRECT_URI=http://localhost:8000/auth/docusign/callback
DOCUSIGN_SANDBOX_SCOPES=signature,impersonation
DOCUSIGN_SANDBOX_BASE_URL=https://demo.docusign.net/restapi

# Local PDF Signing (FREE - Alternative Electronic Signatures)
# No API keys required - uses local PDF processing
LOCAL_PDF_SIGNING_ENABLED=true
LOCAL_PDF_SIGNING_CERT_PATH=/app/certs/signing_cert.pem
LOCAL_PDF_SIGNING_KEY_PATH=/app/certs/signing_key.pem

# Slack Integration (FREE - Team Notifications)
# Get your webhook URL at: https://api.slack.com/messaging/webhooks
# Cost: Free for basic usage
SLACK_WEBHOOK_URL=your_slack_webhook_url
SLACK_BOT_TOKEN=your_slack_bot_token
SLACK_DEFAULT_CHANNEL=#contracts
SLACK_ENABLED=true

# Discord Integration (FREE - Alternative Team Notifications)
# Get your webhook URL at: https://discord.com/developers/applications
# Cost: Free for basic usage
DISCORD_WEBHOOK_URL=your_discord_webhook_url
DISCORD_BOT_TOKEN=your_discord_bot_token
DISCORD_DEFAULT_CHANNEL=contracts
DISCORD_ENABLED=false

# =============================================================================
# EXTERNAL SERVICES (FREE ALTERNATIVES)
# =============================================================================
# Email Configuration (FREE - Gmail SMTP)
# Use Gmail with app password for free email notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_USE_TLS=true
SMTP_ENABLED=true

# Alternative Email Services (FREE)
# SendGrid - 100 emails/day free
SENDGRID_API_KEY=your_sendgrid_api_key_here
SENDGRID_ENABLED=false

# Mailgun - 5,000 emails/month free
MAILGUN_API_KEY=your_mailgun_api_key_here
MAILGUN_DOMAIN=your_mailgun_domain
MAILGUN_ENABLED=false

# File Storage (FREE OPTIONS)
STORAGE_TYPE=local
STORAGE_PATH=/app/storage
STORAGE_MAX_SIZE_GB=10

# AWS S3 (FREE - 5GB for 12 months)
S3_BUCKET_NAME=
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_REGION=us-east-1
S3_ENABLED=false

# Google Cloud Storage (FREE - 5GB)
GCS_BUCKET_NAME=
GCS_CREDENTIALS_PATH=/app/credentials/gcs-key.json
GCS_ENABLED=false

# Dropbox API (FREE - 2GB)
DROPBOX_ACCESS_TOKEN=your_dropbox_access_token
DROPBOX_ENABLED=false

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_WEBSOCKET=true
ENABLE_REAL_TIME_UPDATES=true
ENABLE_FILE_UPLOAD=true
ENABLE_CONTRACT_ANALYSIS=true
ENABLE_EMAIL_GENERATION=true
ENABLE_RISK_ASSESSMENT=true

# =============================================================================
# FREE ALTERNATIVES SUMMARY
# =============================================================================
# This configuration uses free alternatives to paid services:
#
# AI/LLM Services:
# - OpenAI API: Keep your existing API key (you mentioned you want to keep this)
# - Ollama: Free local AI models (llama2, mistral, etc.) - set OLLAMA_ENABLED=true
# - Hugging Face: Free cloud AI models with rate limits - set HUGGINGFACE_ENABLED=true
#
# Document Management:
# - Local Storage: Free filesystem storage - set LOCAL_STORAGE_ENABLED=true
# - Google Drive: 15GB free storage - set GOOGLE_DRIVE_ENABLED=true
# - Dropbox: 2GB free storage - set DROPBOX_ENABLED=true
#
# Electronic Signatures:
# - DocuSign Sandbox: Free for development/demos - set DOCUSIGN_SANDBOX_ENABLED=true
# - Local PDF Signing: Free PDF signature simulation - set LOCAL_PDF_SIGNING_ENABLED=true
#
# Notifications:
# - Slack: Free webhook integration - set SLACK_ENABLED=true
# - Discord: Free webhook integration - set DISCORD_ENABLED=true
# - Gmail SMTP: Free email notifications - set SMTP_ENABLED=true
# - SendGrid: 100 emails/day free - set SENDGRID_ENABLED=true
# - Mailgun: 5,000 emails/month free - set MAILGUN_ENABLED=true
#
# Database:
# - SQLite: Free local database - set SQLITE_ENABLED=true
# - ChromaDB: Free vector database (already enabled)
# - PostgreSQL: Free tiers available on cloud providers - set POSTGRES_ENABLED=true
#
# File Storage:
# - Local Storage: Free filesystem storage (default)
# - AWS S3: 5GB free for 12 months - set S3_ENABLED=true
# - Google Cloud Storage: 5GB free - set GCS_ENABLED=true
#
# To get started with free alternatives:
# 1. Keep your OpenAI API key
# 2. Set LOCAL_STORAGE_ENABLED=true
# 3. Set DOCUSIGN_SANDBOX_ENABLED=true
# 4. Set SLACK_ENABLED=true (if you want notifications)
# 5. Set SQLITE_ENABLED=true
# 6. All other services are optional and can be enabled as needed
